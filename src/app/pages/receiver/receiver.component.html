<div class="receiver-container">
  <header class="receiver-header">
    <h1>Receptor</h1>
    <p *ngIf="id">Sinal <b><{{ id }}></b></p>
  </header>

  <div *ngIf="loading" class="loading">
    Carregando sinal...
  </div>

  <div *ngIf="error" class="error">
    <p>{{ error }}</p>
  </div>

  <div *ngIf="!loading && !error && signalData" class="signal-section">
    <h2>Sinal Recebido</h2>
    <div class="chart-wrap">
      <app-signal-chart
        [data]="signalData"
        [title]="'Sinal Modulado Recebido'"
        [type]="'signal'">
      </app-signal-chart>
    </div>

    <form [formGroup]="demodForm" class="demod-form">
      <h3>Configuração da Demodulação</h3>
      <label>
        Tipo:
        <select formControlName="mode">
          <option *ngFor="let m of modulationModes" [value]="m">{{ m }}</option>
        </select>
      </label>
      <label>
        fc (Hz):
        <input type="number" formControlName="fc" />
      </label>
      <label>
        fs (Hz):
        <input type="number" formControlName="fs" />
      </label>
      <label>
        Índice/Constante:
        <input type="number" formControlName="demodConst" step="any" />
      </label>
    </form>

    <div class="chart-wrap" *ngIf="demodulated">
      <app-signal-chart
        [data]="demodulated"
        [title]="'Sinal Demodulado'"
        [type]="'signal'">
      </app-signal-chart>
    </div>
  </div>
</div>
